<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vale-Shop</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="assets/css/main.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>

<body>
  <header>
    <h1>Vale-Shop</h1>
    <button id="like-button" aria-label="Me gusta">
      <i class="fa-solid fa-heart"></i>
    </button>
    <button id="theme-toggle" aria-label="Cambiar modo">
      <i class="fa-solid fa-sun"></i>
    </button>
  </header>
  <main>
    <section class="carousel-container">
      <button class="carousel-button prev" onclick="moveSlide(-1)">
        <i class="fa-solid fa-chevron-left"></i>
      </button>
      <div class="carousel">
        <div class="product-container">
          <div class="product">
            <div class="img-product">
              <img
                src="//img.ltwebstatic.com/images3_pi/2024/08/15/eb/1723708501b88312633c81566007d0881cae2e8584_thumbnail_405x.webp"
                alt="Producto 1" />
            </div>
            <div class="info-container">
              <div class="info">
                <h2>Vestido Floral</h2>
                <p>$29.99</p>
              </div>
              <div class="cart">
                <a href="#">
                  <i class="fa-solid fa-shopping-cart"></i>
                </a>
              </div>
            </div>
          </div>
          <div class="product">
            <div class="img-product">
              <img
                src="//img.ltwebstatic.com/images3_pi/2023/06/19/168715727991f5cdc3b853b58a2bb5489d83bcc62b_thumbnail_405x.webp"
                alt="Producto 1" />
            </div>
            <div class="info-container">
              <div class="info">
                <h2>Vestido Floral</h2>
                <p>$29.99</p>
              </div>
              <div class="cart">
                <a href="#">
                  <i class="fa-solid fa-shopping-cart"></i>
                </a>
              </div>
            </div>
          </div>
          <div class="product">
            <div class="img-product">
              <img src="assets/image/1718592874b9c9c0c994cf60c986ca33039442ed67_thumbnail_336x.webp" alt="Producto 1" />
            </div>
            <div class="info-container">
              <div class="info">
                <h2>Vestido Floral</h2>
                <p>$29.99</p>
              </div>
              <div class="cart">
                <a href="#">
                  <i class="fa-solid fa-shopping-cart"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <button class="carousel-button next" onclick="moveSlide(1)">
        <i class="fa-solid fa-chevron-right"></i>
      </button>
    </section>

    <!-- Sección de Categorías -->
    <section class="categories-container">
      <div class="categories">
        <div class="category">
          <a href="products.html">
            <h1>Ropa de Mujer</h1>
          </a>
        </div>
        <div class="category">
          <a href="products.html">
            <h1>Ropa de Hombre</h1>
          </a>
        </div>
        <div class="category">
          <a href="products.html">
            <h1>Accesorios</h1>
          </a>
        </div>
      </div>
      </div>
    </section>
  </main>
  <footer>
    <nav class="bottom-nav">
      <a href="index.html" class="nav-item active">
        <i class="fa-solid fa-house"></i>
        <span>Inicio</span>
      </a>
      <a href="products.html" class="nav-item">
        <i class="fa-solid fa-box"></i>
        <span>Productos</span>
      </a>
      <a href="orders.html" class="nav-item">
        <i class="fa-solid fa-cart-shopping"></i>
        <span>Pedidos</span>
      </a>
      <a href="settings.html" class="nav-item">
        <i class="fa-solid fa-cog"></i>
        <span>Ajustes</span>
      </a>
    </nav>
  </footer>
  <script src="service-worker.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      console.log("Service Worker soportado");
      window.addEventListener("load", () => {
        navigator.serviceWorker
          .register("/shein-shop/assets/js/service-worker.js")
          .then((registration) => {
            console.log("Service Worker registrado con éxito:", registration);
          })
          .catch((error) => {
            console.error("Error al registrar el Service Worker:", error);
          });
      });
    } else {
      console.log("Service Worker no soportado");
    }

    let slideIndex = 0;

    function moveSlide(step) {
      const slides = document.querySelector(".product-container");
      const slideCount = slides.children.length;
      const slideWidth = document.querySelector(".product").offsetWidth;
      const containerWidth = document.querySelector(".carousel").offsetWidth;
      const maxIndex = Math.max(
        0,
        Math.ceil((slideCount * slideWidth - containerWidth) / slideWidth)
      );

      slideIndex = Math.max(0, Math.min(slideIndex + step, maxIndex));
      slides.style.transform = `translateX(-${slideIndex * slideWidth}px)`;
    }

    // Initialize the slider
    document.addEventListener("DOMContentLoaded", () => {
      const slides = document.querySelector(".product-container");
      const slideCount = slides.children.length;
      const slideWidth = document.querySelector(".product").offsetWidth;
      const containerWidth = document.querySelector(".carousel").offsetWidth;

      const maxIndex = Math.max(
        0,
        Math.ceil((slideCount * slideWidth - containerWidth) / slideWidth)
      );
      slideIndex = Math.min(slideIndex, maxIndex);
      slides.style.transform = `translateX(-${slideIndex * slideWidth}px)`;
    });
  </script>
  <script src="assets/js/main.js"></script>
</body>

</html>
